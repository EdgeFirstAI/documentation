
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="EdgeFirst Studio Documentation">
      
      
        <meta name="author" content="Au-Zone Technologies">
      
      
        <link rel="canonical" href="https://doc.edgefirst.ai/develop/middleware/python_examples/">
      
      
        <link rel="prev" href="../api/builtin_interfaces/">
      
      
        <link rel="next" href="../../modules/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Python Examples - EdgeFirst Studio Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-examples" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EdgeFirst Studio Documentation" class="md-header__button md-logo" aria-label="EdgeFirst Studio Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EdgeFirst Studio Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python Examples
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="amber"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="amber"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting_started/" class="md-tabs__link">
          
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../enterprise/" class="md-tabs__link">
          
  
    
  
  Enterprise

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../datasets/" class="md-tabs__link">
          
  
    
  
  Datasets

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../models/" class="md-tabs__link">
          
  
    
  
  Models

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../fusion/" class="md-tabs__link">
          
  
    
  
  Fusion

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Middleware

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../modules/" class="md-tabs__link">
          
  
    
  
  Modules

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EdgeFirst Studio Documentation" class="md-nav__button md-logo" aria-label="EdgeFirst Studio Documentation" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    EdgeFirst Studio Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset Tutorials
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../enterprise/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Enterprise
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Enterprise
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../datasets/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Datasets
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datasets/tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset Tutorials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datasets/zoo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset Zoo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datasets/format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EdgeFirst Dataset Format
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    model
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            model
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    training
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model/training/modelpack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelpack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model/training/fusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fusion
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    validation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model/validation/modelpack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelpack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model/validation/fusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fusion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model/validation/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/augmentations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vision Augmentations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../fusion/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Fusion
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Fusion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Middleware
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Middleware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dataset Collection Middleware
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Dataset Collection Middleware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/recording/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MCAP Recording Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/replay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MCAP Replay Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/publishing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publishing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/foxglove/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Foxglove Studio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/advanced_foxglove/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Foxglove
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../topics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Middleware Topics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Topics &amp; Schemas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/edgefirst_msgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EdgeFirst Messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/foxglove_msgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Foxglove Messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/geometry_msgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Geometry Messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/nav_msgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Navigation Messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/sensor_msgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Sensor Messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/std_msgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Standard Messages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/builtin_interfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builtin Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Python Examples
    
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../modules/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/walkthrough/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web UI Walkthrough
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hardware and OS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Hardware and OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/radar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Radar Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/ssh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSH
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Known Issues
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/release_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/updates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Updates
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="python-examples">Python Examples</h1>
<p>We provide two GitHub repositoiries to show how to interact with <a href="https://mcap.dev/">MCAP files</a> and <a href="https://www.ros.org/">ROS2</a> topics over <a href="https://zenoh.dev/">Zenoh</a> using Python.  The first repository, the <a href="https://github.com/MaivinAI/mcap-py"><code>MCAP-py</code> repository</a>, has a <code>viewer.py</code> script to show how to use Python to interact with MCAP files generated by the Raivin.  The second repository, the <a href="https://github.com/MaivinAI/topicsub-py"><code>topicsub-py</code> repository</a>, has a number of scripts demonstrating how to connect and report on the various topics generated by a Raivin.</p>
<h1 id="mcap">MCAP</h1>
<p>The <a href="https://github.com/MaivinAI/mcap-py"><code>MCAP-py</code> repository</a> has a single script, <code>viewer.py</code> that demonstrates the following functionality:
* loads MCAP file
* parses the MCAP file
* searches the MCAP file for necessary topics
  * <code>/camera/info</code> which is used to get the length and width of the images,
  * <code>/camera/h264</code> which is used to get the images to display
  * <code>/model/boxes2d</code> which is used to get the object detection bounding boxes
* decodes the bounding boxes from the <code>/model/boxes2d</code> topic and draws them on the image found from the <code>/camera/h264</code> topic</p>
<p>It uses the <a href="https://mcap.dev/docs/python/">MCAP Python Library</a> and our <a href="https://pypi.org/project/edgefirst-schemas/">EdgeFirst Schemas Library</a>.</p>
<h2 id="environments">Environments</h2>
<p>This has been tested on Python version 3.10.12 on Windows 10 and Ubuntu 22.04 on Windows Subsystem for Linux (WSL).</p>
<h2 id="setup">Setup</h2>
<p>Please follow the README.md file for specific installation instructions.</p>
<p>After you download the repository, it is recommened you create a Python virtual environment in the directory, then install the requirements.
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>venv/bin/activate
<span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div></p>
<h2 id="usage">Usage</h2>
<p>The usage of the <code>viewer.py</code> script is as follows:
<div class="highlight"><pre><span></span><code><span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>kris@AUZONEDEV02:~/mcap-py$<span class="w"> </span>python<span class="w"> </span>viewer.py<span class="w"> </span>-h
usage:<span class="w"> </span>viewer.py<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-m<span class="w"> </span><span class="o">[</span>MODEL<span class="o">]]</span><span class="w"> </span><span class="o">[</span>-s<span class="w"> </span>SCALE<span class="o">]</span><span class="w"> </span><span class="o">[</span>-t<span class="w"> </span>THICKNESS<span class="o">]</span><span class="w"> </span><span class="o">[</span>-b<span class="o">]</span><span class="w"> </span>mcap_file

Process<span class="w"> </span>MCAP<span class="w"> </span>to<span class="w"> </span>view<span class="w"> </span>images<span class="w"> </span>with<span class="w"> </span>bounding<span class="w"> </span>boxes.

positional<span class="w"> </span>arguments:
<span class="w">  </span>mcap_file<span class="w">             </span>MCAP<span class="w"> </span>that<span class="w"> </span>needs<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>parsed

options:
<span class="w">  </span>-h,<span class="w"> </span>--help<span class="w">            </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
<span class="w">  </span>-m<span class="w"> </span><span class="o">[</span>MODEL<span class="o">]</span>,<span class="w"> </span>--model<span class="w"> </span><span class="o">[</span>MODEL<span class="o">]</span>
<span class="w">                        </span>Run<span class="w"> </span>the<span class="w"> </span>MCAP<span class="w"> </span>frames<span class="w"> </span>through<span class="w"> </span>a<span class="w"> </span>custom<span class="w"> </span>ONNX<span class="w"> </span>model<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>bounding<span class="w"> </span>box.
<span class="w">  </span>-s<span class="w"> </span>SCALE,<span class="w"> </span>--scale<span class="w"> </span>SCALE
<span class="w">                        </span>Resizing<span class="w"> </span>factor<span class="w"> </span>to<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>final<span class="w"> </span>image<span class="w"> </span><span class="m">0</span>.1-1.0.<span class="w"> </span>Default:<span class="w"> </span><span class="m">1</span>.0
<span class="w">  </span>-t<span class="w"> </span>THICKNESS,<span class="w"> </span>--thickness<span class="w"> </span>THICKNESS
<span class="w">                        </span>Choose<span class="w"> </span>the<span class="w"> </span>thickness<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>bounding<span class="w"> </span>box.<span class="w"> </span>Default:<span class="w"> </span><span class="m">2</span>
<span class="w">  </span>-b,<span class="w"> </span>--display_bbox<span class="w">    </span>Choose<span class="w"> </span>to<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>bounding<span class="w"> </span>box.<span class="w"> </span>Default:<span class="w"> </span>True
</code></pre></div></p>
<h2 id="codeblocks-of-note">Codeblocks of Note</h2>
<p>To read an MCAP file, all you need to do is open the MCAP file and pass it as an argument to <code>mcap.reader.make_reader()</code>.
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">mcap_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>  <span class="c1"># Open the MCAP file for reading</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Opening </span><span class="si">{</span><span class="n">mcap_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">make_reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>  <span class="c1"># Create a reader object for reading messages</span>
</code></pre></div>
You can then use the MCAP reader object in your code, for example, to read its summary:
<div class="highlight"><pre><span></span><code><span class="nb">sum</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">get_summary</span><span class="p">()</span>
</code></pre></div>
or to iterate through its messages:
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">schema</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">iter_messages</span><span class="p">():</span>  <span class="c1"># Iterate over messages in the file</span>
    <span class="k">if</span> <span class="n">channel</span><span class="o">.</span><span class="n">topic</span> <span class="o">==</span> <span class="s2">&quot;/camera/info&quot;</span> <span class="ow">and</span> <span class="n">scale_not_set</span><span class="p">:</span> 
</code></pre></div>
The summary contains a list of topics that can be checked:
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_topic_present</span><span class="p">(</span><span class="n">summary</span><span class="p">:</span><span class="n">Summary</span><span class="p">,</span> <span class="n">topic</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">summary</span><span class="o">.</span><span class="n">channels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">channel</span><span class="o">.</span><span class="n">topic</span> <span class="o">==</span> <span class="n">topic</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found topic </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Did not find topic </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>   
</code></pre></div>
The message data from <code>reader.iter_messages()</code> can be converted into scriptable outputs using our Edgefirst Schemas.  Importing them as:</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">edgefirst.schemas.sensor_msgs</span><span class="w"> </span><span class="kn">import</span> <span class="n">CameraInfo</span> <span class="k">as</span> <span class="n">Info</span>  <span class="c1"># Custom message module for camera information  </span>
<span class="kn">from</span><span class="w"> </span><span class="nn">edgefirst.schemas.foxglove_msgs</span><span class="w"> </span><span class="kn">import</span> <span class="n">CompressedVideo</span>  <span class="c1"># Custom message module for H264 decoding </span>
<span class="kn">from</span><span class="w"> </span><span class="nn">edgefirst.schemas.edgefirst_msgs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Detect</span> <span class="c1"># Custom message module for detection</span>
</code></pre></div>
We can then use:
<div class="highlight"><pre><span></span><code><span class="n">image_data</span> <span class="o">=</span>  <span class="n">CompressedVideo</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1"># Deserialize the message data to get H264 frames</span>
<span class="n">mcap_image</span> <span class="o">=</span> <span class="n">get_image</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">image_data</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="n">frame_position</span><span class="p">)</span>  <span class="c1"># Get the image frame from the message</span>
</code></pre></div>
The byte-string of the <code>image_data.data</code> can then be used by the <a href="https://pypi.org/project/av/">PyAV</a> library to generate images and <a href="https://matplotlib.org/">Matplotlib</a> to display them.</p>
<p>We can get image size (height and width) a similar way:
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_image_size</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">scale</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">frame_height</span>  <span class="c1"># Access the global variable</span>
    <span class="n">frame_height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Info</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">height</span><span class="o">*</span><span class="n">scale</span><span class="p">)</span>  <span class="c1"># Update the frame height</span>
    <span class="k">global</span> <span class="n">frame_width</span>  <span class="c1"># Access the global variable</span>
    <span class="n">frame_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Info</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">width</span><span class="o">*</span><span class="n">scale</span><span class="p">)</span>  <span class="c1"># Update the frame width</span>
    <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Return False to indicate that scale is set</span>
</code></pre></div>
We can get the box decodes as well: 
<div class="highlight"><pre><span></span><code><span class="n">boxes</span> <span class="o">=</span> <span class="n">Detect</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">box_time</span> <span class="o">=</span> <span class="n">boxes</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">stamp</span><span class="o">.</span><span class="n">sec</span> <span class="o">+</span> <span class="p">(</span><span class="n">boxes</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">stamp</span><span class="o">.</span><span class="n">nanosec</span> <span class="o">/</span> <span class="mf">1e9</span><span class="p">)</span> <span class="c1"># Get the box time</span>
<span class="n">boxes_map</span><span class="p">[</span><span class="n">box_time</span><span class="p">]</span> <span class="o">=</span> <span class="n">boxes</span><span class="o">.</span><span class="n">boxes</span>
<span class="n">closest_time</span> <span class="o">=</span> <span class="n">get_closest_time</span><span class="p">(</span><span class="n">boxes_map</span><span class="p">,</span> <span class="n">frame_time</span><span class="p">)</span>
<span class="k">if</span> <span class="n">mcap_image</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">boxes_map</span><span class="p">[</span><span class="n">closest_time</span><span class="p">])</span><span class="si">}</span><span class="s2"> boxes at time </span><span class="si">{</span><span class="n">closest_time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">boxes_map</span><span class="p">[</span><span class="n">closest_time</span><span class="p">]:</span>  <span class="c1"># Iterate over annotation points</span>
    <span class="k">if</span> <span class="n">points</span> <span class="ow">and</span> <span class="n">mcap_image</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Check if points and image are available</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">points</span><span class="o">.</span><span class="n">center_x</span> <span class="o">-</span> <span class="n">points</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">frame_width</span><span class="o">/</span><span class="n">scale</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">points</span><span class="o">.</span><span class="n">center_y</span> <span class="o">-</span> <span class="n">points</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">frame_height</span><span class="o">/</span><span class="n">scale</span><span class="p">)</span>
        <span class="n">w</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">points</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">frame_width</span><span class="o">/</span><span class="n">scale</span><span class="p">)</span>
        <span class="n">h</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">points</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="n">frame_height</span><span class="o">/</span><span class="n">scale</span><span class="p">)</span>
</code></pre></div></p>
<h1 id="topicsub-py">Topicsub-py</h1>
<p>This repository contains a number of Python scripts that read the network topics generated by the ROS2 messaging over Zenoh DDS and demonstrates the following functionality:
* lists the topics a Raivin is sending data out on
* lists the schemas the topics use to encode data on
* outputs from the Raivin:
  * the PointCloud information from the Radars Target topic <code>rt/radar/targets</code>
  * GPS information from <code>rt/gps</code>
  * IMU information from <code>rt/imu</code>
  * processed radar data in summary and raw output from <code>rt/fusion/targets</code>
  * camera information from <code>rt/camera/info</code>
  * detect boxes from <code>rt/model/boxes2d</code></p>
<p>It uses the <a href="https://github.com/eclipse-zenoh/zenoh-python">Zenoh Python Library</a> and our <a href="https://pypi.org/project/edgefirst-schemas/">EdgeFirst Schemas Library</a>.</p>
<h2 id="environments_1">Environments</h2>
<p>This has been tested on the Raivin device itself (release 2025-Q1, Python version 3.10.15), Python version 3.10.12 on Windows 10, and Ubuntu 22.04 on Windows Subsystem for Linux (WSL).</p>
<h2 id="setup_1">Setup</h2>
<p>Please follow the README.md file for specific installation instructions.  It is recommended you create a Python virtual environment to run the scripts in.</p>
<h3 id="libraries-not-present-on-raivin">Libraries not present on Raivin</h3>
<p>If the Raivin does not have the Python libraries installed and does not have external Internet access, the packages can be downloaded on a Internet-connected PC with the following command:<br />
<div class="highlight"><pre><span></span><code>pip download --no-cache-dir -r requirements.txt --platform=manylinux_2_28_aarch64 --platform=manylinux_2_17_aarch64 --only-binary=:all:
</code></pre></div>
Which should output 4 files:
<div class="highlight"><pre><span></span><code>edgefirst_schemas-1.2.4-py3-none-any.whl
eclipse_zenoh-1.2.1-cp38-abi3-manylinux_2_28_aarch64.whl
numpy-2.2.3-cp310-cp310-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
pycdr2-1.0.0-py3-none-any.whl
</code></pre></div>
These wheel files (as well as the Python topics scripts) can copied onto the device via SSH secure copy.  Once there, they can be installed in a virtual enviornment:
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>venv/bin/activate
<span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pycdr2-1.0.0-py3-none-any.whl
<span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>edgefirst_schemas-1.2.4-py3-none-any.whl
<span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>eclipse_zenoh-1.2.1-cp38-abi3-manylinux_2_28_aarch64.whl
<span class="o">(</span>venv<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>numpy-2.2.3-cp310-cp310-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
</code></pre></div></p>
<h3 id="start-the-zenohd-router">Start the Zenohd Router</h3>
<p>The Zenohd Router will need to be started to send messages off-device.  On the Raivin, run the following command:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>zenohd
</code></pre></div>
Or start the service from the Raivin's WebUi:
1. Click the Settings "gear" icon in the top right of the Raivin UI:
2. Click the "Service Status" card on the Settings Page.
3. Toggle the "Start/Stop" switch on the "zenohd" card to "Start"</p>
<div class="highlight"><pre><span></span><code>You do not need to enable the Zenohd Router service unless you want it to start on boot.  If you do, either run the command `sudo systemctl enable zenohd` or, on step 3 above, toggle the &quot;Enable/Disable&quot; switch on the &quot;zenohd&quot; card to &quot;Enable&quot;.
</code></pre></div>
<p>Confirm the router is running with the command:
<div class="highlight"><pre><span></span><code>torizon@verdin-imx8mp-07129940:~$<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>zenohd
●<span class="w"> </span>zenohd.service<span class="w"> </span>-<span class="w"> </span>Zenoh<span class="w"> </span>Message<span class="w"> </span>Router
<span class="w">     </span>Loaded:<span class="w"> </span>loaded<span class="w"> </span><span class="o">(</span>/usr/lib/systemd/system/zenohd.service<span class="p">;</span><span class="w"> </span>disabled<span class="p">;</span><span class="w"> </span>vendor<span class="w"> </span>preset:<span class="w"> </span>disabled<span class="o">)</span>
<span class="w">     </span>Active:<span class="w"> </span>active<span class="w"> </span><span class="o">(</span>running<span class="o">)</span><span class="w"> </span>since<span class="w"> </span>Mon<span class="w"> </span><span class="m">2025</span>-03-17<span class="w"> </span><span class="m">21</span>:49:18<span class="w"> </span>UTC<span class="p">;</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>day<span class="w"> </span>21h<span class="w"> </span>ago
<span class="w">   </span>Main<span class="w"> </span>PID:<span class="w"> </span><span class="m">3480</span><span class="w"> </span><span class="o">(</span>zenohd<span class="o">)</span>
<span class="w">      </span>Tasks:<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>limit:<span class="w"> </span><span class="m">3772</span><span class="o">)</span>
<span class="w">     </span>Memory:<span class="w"> </span><span class="m">4</span>.6M
<span class="w">     </span>CGroup:<span class="w"> </span>/system.slice/zenohd.service
<span class="w">             </span>└─<span class="w"> </span><span class="m">3480</span><span class="w"> </span>/usr/bin/zenohd<span class="w"> </span>--config<span class="w"> </span>/etc/zenohd.yaml
</code></pre></div>
Or on the "Services Status" page by seeing the status set to "RUNNING" on the 'zenohd' card.</p>
<h2 id="usage_1">Usage</h2>
<p>The usage of most of the scripts is as follows:
<div class="highlight"><pre><span></span><code>python .\fusionraw.py -h
usage: fusionraw.py [-h] [-c CONNECT]

Imu Example

options:
  -h, --help            show this help message and exit
  -c CONNECT, --connect CONNECT
                        Connection point for the zenoh session, default=&#39;tcp/127.0.0.1:7447&#39;
</code></pre></div>
Running the scripts on a PC to connect to a Raivin with the Zenoh router running would have the following command:</p>
<p><div class="highlight"><pre><span></span><code>python .\fusionraw.py -c tcp/&lt;IP address or hostname&gt;:7447
</code></pre></div>
<div class="highlight"><pre><span></span><code>The IP address can be:
* IPv4 address (e.g. `python .\topics.py tcp/10.10.41.195:7447` )
* IPv6 address (e.g. `python .\topics.py tcp/[fe80::c91e:a40:1c9c:5a7c]:7447` )
* the hostname (e.g. `python .\topics.py -c tcp/verdin-imx8mp-07130049.local:7447`)
</code></pre></div></p>
<p>Most scripts need the user to hit CTRL-C to stop.</p>
<h2 id="codeblocks-of-note_1">Codeblocks of Note</h2>
<p>The scripts start trying to connect to the Raivin:
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
    <span class="n">cfg</span> <span class="o">=</span> <span class="n">zenoh</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>
    <span class="n">cfg</span><span class="o">.</span><span class="n">insert_json5</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;client&#39;&quot;</span><span class="p">)</span>
    <span class="n">cfg</span><span class="o">.</span><span class="n">insert_json5</span><span class="p">(</span><span class="s2">&quot;connect&quot;</span><span class="p">,</span> <span class="s1">&#39;{ &quot;endpoints&quot;: [&quot;</span><span class="si">%s</span><span class="s1">&quot;] }&#39;</span> <span class="o">%</span> <span class="n">args</span><span class="o">.</span><span class="n">connect</span><span class="p">)</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">zenoh</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="k">except</span> <span class="n">zenoh</span><span class="o">.</span><span class="n">ZError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to open Zenoh session: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
and close the session during exit:
<div class="highlight"><pre><span></span><code>    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Exiting...&quot;</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
Most scripts subscribe to a single topic:
<div class="highlight"><pre><span></span><code><span class="n">sub</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">declare_subscriber</span><span class="p">(</span><span class="s1">&#39;rt/fusion/model_output&#39;</span><span class="p">,</span> <span class="n">fusion_listener</span><span class="p">)</span>
</code></pre></div>
And use the <code>edgefirst.schemas</code> to decode the output messages into manipulatible objects:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">edgefirst.schemas.edgefirst_msgs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mask</span>

<span class="k">def</span><span class="w"> </span><span class="nf">fusion_listener</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="n">fusion</span> <span class="o">=</span> <span class="n">Mask</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">payload</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Mask Data:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dimensions: </span><span class="si">{</span><span class="n">fusion</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="n">fusion</span><span class="o">.</span><span class="n">height</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Encoding: </span><span class="si">{</span><span class="n">fusion</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Length: </span><span class="si">{</span><span class="n">fusion</span><span class="o">.</span><span class="n">length</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Au-Zone Technologies &mdash; <a href="#__consent">Privacy Settings</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            




  


<h4>Privacy Settings</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.path", "navigation.indexes", "navigation.top", "toc.follow"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "develop", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>